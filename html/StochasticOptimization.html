<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>15. Uncertainty modeling: Stochastic optimization models &#8212; OptimizationModels 1.02 April 4, 2024 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=712fa57f" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=edc3226b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=8bd57eb4" />
    <script src="_static/documentation_options.js?v=d77a62b4"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script>window.MathJax = "{'tex': { 'macros': {RR: '{\\bf R}', R: '{\\mathbb{R}}', bold: ['{\\bf #1}', 1] }, 'environments': {braced: ['\\left\\{', '\\right\\}'] }, 'inlineMath': [['$', '$'], ['\\(', '\\)']] } }"</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="16. Mixed Integer Linear Models" href="MIPModels.html" />
    <link rel="prev" title="14. Constraints in linear optimization models" href="Constraints.html" />
<link rel="stylesheet" type="text/css" 
     href="_static/custom.css" /> 


  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Constraints.html" title="Previous document"><span class="section-number">14. </span>Constraints in linear optimization models</a>
        </li>
        <li>
          <a href="MIPModels.html" title="Next document"><span class="section-number">16. </span>Mixed Integer Linear Models</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <p class="hidden"><span class="math notranslate nohighlight">\(\newcommand{\R}{{\mathbb{R}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\Z}{{\mathbb{Z}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\N}{{\mathbb{N}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\var}[1]{{\color{red}{\mathbf{#1}}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\param}[1]{{\color{blue}{#1}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\mathsc}[1]{{\normalfont\textsc{#1}}}\)</span>
<span class="math notranslate nohighlight">\(\def\sc#1{\dosc#1\csod}\)</span>
<span class="math notranslate nohighlight">\(\def\dosc#1#2\csod{{\rm{#1{\rm\small #2}}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\set}[1]{{\sc#1}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\mathvar}[1]{\var{#1}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\mathpar}[1]{\param{#1}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\half}{{\small{\frac{1}{2}}}}\)</span></p>
<section id="uncertainty-modeling-stochastic-optimization-models">
<span id="section-stochopt"></span><h1><span class="section-number">15. </span>Uncertainty modeling: Stochastic optimization models<a class="headerlink" href="#uncertainty-modeling-stochastic-optimization-models" title="Link to this heading">¶</a></h1>
<p>Dealing with unpredictable events is very hard, but worthwhile: many
decisions can be significantly improved if uncertainty and, in
particular, variability is taken into correct account. The field is
very large and indeed complex, and it involves modeling aspects as
well as algorithmic and deep theoretical analysis. In these pages we
will just scrap the surface of this important theme, mainly
to  show that it is indeed possible to take into
consideration stochastic events and  also that, in some cases,
the resulting models are still linear ones, obtained thanks to
modification of standard, deterministic models.</p>
<section id="probabilistic-constraints">
<span id="sect-probabilistic-constraints"></span><h2><span class="section-number">15.1. </span>Probabilistic constraints<a class="headerlink" href="#probabilistic-constraints" title="Link to this heading">¶</a></h2>
<p>In many applications  some data are not
known with precision but, at best, an assumption can be made on a
probabilistic model. In other words, some data can be viewed as the
realization of a random variable. In these cases the traditional constraints
cannot be used anymore. Consider the following  case:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\sum_j \param{a}_j \var{x}_j \leq \param{\textbf{b}}
\end{align*}</div><p>where <span class="math notranslate nohighlight">\(\param{\textbf{b}}\)</span> is  a random variable whose
probability distribution</p>
<div class="math notranslate nohighlight">
\[
F_{\param{\textbf{b}}} (y): = P (\param{\textbf{b}} \leq y)
\]</div><p>is assumed to be known.</p>
<p>When, as in this case, <span class="math notranslate nohighlight">\(\param{\textbf{b}}\)</span> is a random variable, the constraint
is no more well defined, since its right hand side is no more  a
constant, but a function (recall that a
<span class="target" id="index-0"></span>random variable is a real-valued function from the event space).</p>
<p>Often in these cases we can substitute the constraint
with a probabilistic one, called a  <span class="target" id="index-1"></span>chance constraint:</p>
<div class="math notranslate nohighlight">
\begin{align*}
P \left (\sum_j \param{a}_j \var{x}_j \leq \param{\textbf{b}} \right) \geq \param{\beta}
\end{align*}</div><p>where <span class="math notranslate nohighlight">\(\param{\beta} \in [0,1]\)</span>.
This constraint corresponds to the
request that the constraint is satisfied with probability at least
equal to  <span class="math notranslate nohighlight">\(\param{\beta}\)</span>,  a given threshold. In general chance constraints are
nonlinear and often it is impossible to write them in an explicit form. In
some cases, however, it is possible to convert such a constraint into
an equivalent regular (deterministic) one. This happens in
particular in  the present case, that is,  when the only random
variable
is the right hand side. In fact, assume that the
<span class="target" id="index-2"></span>probability distribution function of the random variable is
known and that, for the sake of simplicity,  <span class="math notranslate nohighlight">\(\param{\textbf{b}}\)</span>
is a <em>continuous random variable</em> and, thus, that its distribution
function <span class="math notranslate nohighlight">\(F_\param{\textbf{b}}(\cdot)\)</span> is invertible. We obtain:</p>
<div class="math notranslate nohighlight">
\begin{align*}
   P \left (\sum_j \param{a}_j \var{x}_j \leq \param{\textbf{b}} \right) &amp; = 1-P
   \left (\param{\textbf{b}} &lt;\sum_j \param{a}_j \var{x}_j \right)   \\
   &amp; = 1-P \left (\param{\textbf{b}} \leq \sum_j \param{a}_j \var{x}_j \right)  \\
   &amp; = 1-F_{\param{\textbf{b}}} \left (\sum_j \param{a}_j \var{x}_j \right)
   \geq \param{\beta} &amp; \text{iff}  \\
   \sum_j \param{a}_j \var{x}_j &amp; \leq F_{\param{\textbf{b}}}^{-1} (1- \param{\beta})
\end{align*}</div><p>The right-hand side of this equation is
deterministic, so the probabilistic constraint has been transformed
into a
traditional (and linear) constraint. As an example, if the
distribution of <span class="math notranslate nohighlight">\(\param{\textbf{b}}\)</span> can be assumed to be
uniformly distributed  between two values  <span class="math notranslate nohighlight">\(\param{b}_{\ell}\)</span>
and <span class="math notranslate nohighlight">\(\param{b}_{u}\)</span>, after easy calculations we can  deduce the
deterministic equivalent constraint</p>
<div class="math notranslate nohighlight">
\begin{align*}
\sum_j \param{a}_j \var{x}_j \leq \param{\beta} \param{b}_{\ell} +
(1- \param{\beta}) \param{b}_u
\end{align*}</div><p>If the term <span class="math notranslate nohighlight">\(\param{\textbf{b}}\)</span>  was, instead, exponentially distributed with
parameter <span class="math notranslate nohighlight">\(\lambda\)</span>:</p>
<div class="math notranslate nohighlight">
\begin{align*}
P (\param{\textbf{b}} \leq y) &amp; = 1 - \exp \left (- \param{\lambda} y \right)
\end{align*}</div><p>for which it is easy to see that</p>
<div class="math notranslate nohighlight">
\begin{align*}
F_{\param{\textbf{b}}}^{-1} (\param{\beta}) &amp; = - \frac{1} {\param{\lambda}} \log (1 - \param{\beta})
\end{align*}</div><p>then   the  deterministic equivalent form of the
constraint would become</p>
<div class="math notranslate nohighlight">
\begin{align*}
\sum_j \param{a}_j \var{x}_j \leq - \frac{1} {\param{\lambda}} \log (1 - \param{\beta}).
\end{align*}</div><p>In the frequent case in which the random variable is assumed to be
normal (Gaussian) the procedure is exactly the same, although we need
to resort to a numerical approximation of the inverse Gaussian
distribution, whose analytical expression is not available.</p>
<p>Of course the situation becomes significantly more complex when  more
than one
coefficient of the same constraint (or of different constraints) is
random; even more complex is the case in which it is not possible to
assume stochastic independence among these variables.
In these cases, it is often impossible to obtain a closed form of a
deterministic equivalent of the original constraint.</p>
</section>
<section id="stochastic-linear-optimization-models">
<span id="sect-plstoc"></span><h2><span class="section-number">15.2. </span>Stochastic linear optimization models<a class="headerlink" href="#stochastic-linear-optimization-models" title="Link to this heading">¶</a></h2>
<p>It is not possible, in this volume, to present even  a very
superficial analysis of probabilistic  optimization models, even
in the linear case.
In this section we will just introduce
elementary models from which it will be possible to understand how, in some cases, it is
possible to deal with stochastic decision problems using traditional
optimization  models of the kind
presented in this volume and how to  solve them with standard
optimization tools. Of course, this is not always possible: in fact,
in general,
the optimization models which arise when
uncertainty is present can only be transformed  into complex nonlinear
optimization models.</p>
<p>Consider  any of the  problems described  up to here
in the volume: as a typical case, consider
one of the problems described in section <a class="reference internal" href="ProductMixProblems.html#product-mix-models"><span class="std std-ref">Product Mix Models</span></a>.
Assume, differently from what has been done there, that the demand for
a product is not known a priori but can at best be
estimated assuming that a finite set of possible scenarios might
happen in the future. As an example, assume that a pessimistic
scenario, a
neutral, and an  optimistic one are the only possibilities we can
foresee.
In cases like this one, in which uncertainty is associated to a finite set
of possible scenarios, it is possible to formulate a
linear optimization model in order to optimize the expected value of
the objective function (in this case, the expected gain). In order to
be able to formulate  a deterministic equivalent model, the usual
technique consists in
introducing additional variables whose index is  associated with each
of the possible scenarios.</p>
<p>We start with the simplest possible case: consider a situation in
which there is a finite set of different scenarios, indexed by  <span class="math notranslate nohighlight">\(s \in
\set{Scenarios}\)</span> and, to each scenario, we  associate a known
probability <span class="math notranslate nohighlight">\(\param{Prob}_s\)</span>. In the product mix example, let us
also assume that the demand for a certain product is a function of the
scenario: <span class="math notranslate nohighlight">\(\param{Dem}_s\)</span>.
The decision on how much to produce needs to be made before knowing
which of the possible  scenarios will indeed occur, otherwise the
problem would not be a stochastic one anymore.
Thus we  have to face a
decision problem under uncertainty. As in the deterministic case,
we let <span class="math notranslate nohighlight">\(\var{x}\)</span> denote  the quantity to be produced: this
variable is not indexed by the scenario, as its value has to be
decided a priori and in an independent way with respect to the future
actual scenario.
After the decision has been taken and the real scenario reveals
itself, it might happen that the quantity produced is insufficient, or
it might be too much. In the first case,  a penalty
<span class="math notranslate nohighlight">\(\param{PenIns}\)</span>  will be paid  for each unit of product which
is  not available to
satisfy the actual demand; in the other case, a
penalty  <span class="math notranslate nohighlight">\(\param{PenEcc}\)</span>  will be paid for the disposal of the
quantity of  product which is in
excess with respect to the demand.
As it is not known which of  the scenarios will occur, we need to
take into account the randomness of the demand by choosing a
production  level which  minimizes a measure of the future uncertain
cost. It is usual to employ, in these cases, the expected value of the cost of
production, which is the sum of the cost associated to each possible scenario
weighted by the probability that such scenario will actually
occur. In this case,  the  product mix  model will remain
exactly the same, except that in the objective function  an additional
cost term appears:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\param{PenIns} \sum_{s \in \set{Scenarios}} \max (\param{Dem}_s- \var{x}, 0)
\param{Prob}_s &amp; + \\
\param{PenEcc} \sum_{s \in \set{Scenarios}} \max (\var{x} - \param{Dem}_s, 0)
\param{Prob}_s
\end{align*}</div><p>If, as in the product mix general model, the objective is to maximize
gain, the above cost should be subtracted from the original objective.</p>
<p>Although the unknown variable
appears in a non-linear (even non-differentiable) function, it is easy
to transform the expression into a fully linear one.
It is indeed possible to “linearize” the
model by introducing additional variables associated with the different
scenarios. We can also easily extend the model to the usual case of
more than one product. Let <span class="math notranslate nohighlight">\(\var{Surplus}_{ps}\)</span> and
<span class="math notranslate nohighlight">\(\var{Slack}_{ps}\)</span>
denote two new variable sets
which, in the various scenarios, represent excess production or
missing production with respect to  actual demand of a specific product <span class="math notranslate nohighlight">\(p\)</span>. We can
add the following constraints to the model:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\var{Surplus}_{ps} &amp; \geq \var{x}_p - \param{Dem}_{ps} &amp; \forall \, s
\in \set{Scenarios}, p \in \set{Products} \\
\var{Surplus}_{ps} &amp; \geq 0 \\
\var{Slack}_{ps} &amp; \geq \param{Dem}_{ps} - \var{x}_p &amp; \forall \, s \in
\set{Scenarios}, p \in \set{Products}  \\
\var{Slack}_{ps} &amp; \geq 0
\end{align*}</div><p>and the cost term in the objective can now be reformulated  in a linear way:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\sum_{s \in \set{Scenarios}, p \in \set{Products}} \param{Prob}_s  \left(
\param{PenEcc} \var{Surplus}_{ps} +  \param{PenIns}
\var{Slack}_{ps}\right)
\end{align*}</div><p>As an example consider a stochastic product mix problem with the
following data:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">stoc-prodmix.dat</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kd">set</span><span class="w"> </span><span class="nv">SCENARIOS</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span>OPT<span class="w"> </span>AVG<span class="w"> </span>NEG<span class="p">;</span>

<span class="kd">param</span><span class="p">:</span><span class="w"> </span><span class="nv">RESOURCES</span><span class="p">:</span><span class="w"> </span><span class="nv">Avail</span><span class="p">:</span><span class="o">=</span>
carpentry<span class="w">   </span><span class="mi">1600</span>
painting<span class="w">    </span><span class="mi">1200</span>
assembly<span class="w">    </span><span class="mi">1500</span>
verification<span class="w"> </span><span class="mi">300</span>
packing<span class="w">      </span><span class="mi">500</span>
<span class="p">;</span>

<span class="kd">param</span><span class="p">:</span><span class="w"> </span><span class="nv">PRODUCTS</span><span class="p">:</span><span class="w"> </span><span class="nv">Gain</span><span class="p">:</span><span class="o">=</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="mi">10</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span><span class="mi">18</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="mi">25</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span><span class="mi">27</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="mi">28</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="mi">35</span>
<span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">Consumption</span><span class="p">:</span>
<span class="w">                </span><span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span><span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span><span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="p">:</span><span class="o">=</span>
carpentry<span class="w">         </span><span class="mi">7</span><span class="w">      </span><span class="mi">5</span><span class="w">      </span><span class="mi">9</span><span class="w">     </span><span class="mi">10</span><span class="w">     </span><span class="mi">10</span><span class="w">     </span><span class="mi">12</span><span class="w">     </span><span class="mi">15</span>
painting<span class="w">          </span><span class="mi">2</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">3</span><span class="w">      </span><span class="mi">3</span><span class="w">      </span><span class="mi">3</span><span class="w">      </span><span class="mi">3</span>
assembly<span class="w">          </span><span class="mi">2</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">4</span><span class="w">      </span><span class="mi">7</span><span class="w">      </span><span class="mi">9</span><span class="w">     </span><span class="mi">15</span><span class="w">     </span><span class="mi">18</span>
verification<span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span>
packing<span class="w">           </span><span class="mi">1</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">0</span>
<span class="p">;</span>


<span class="kd">param</span><span class="w"> </span><span class="nv">PenIns</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">PenEcc</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">Demand</span><span class="p">:</span>
<span class="w">        </span>OPT<span class="w">  </span>AVG<span class="w">   </span>NEG<span class="w"> </span><span class="p">:</span><span class="o">=</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w">   </span><span class="mi">45</span><span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w">   </span><span class="mi">60</span><span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">25</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w">   </span><span class="mi">30</span><span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">30</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w">   </span><span class="mi">60</span><span class="w">   </span><span class="mi">45</span><span class="w">    </span><span class="mi">40</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w">   </span><span class="mi">40</span><span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">10</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w">   </span><span class="mi">40</span><span class="w">   </span><span class="mi">20</span><span class="w">     </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w">   </span><span class="mi">20</span><span class="w">   </span><span class="mi">5</span><span class="w">      </span><span class="mi">2</span>
<span class="p">;</span>


<span class="kd">param</span><span class="w"> </span><span class="nv">Prob</span><span class="p">:</span><span class="o">=</span>
OPT<span class="w">   </span><span class="mf">0.3</span>
AVG<span class="w">   </span><span class="mf">0.4</span>
NEG<span class="w">   </span><span class="mf">0.3</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<p>In this example there are three possible future scenarios which
influence the demand for most products (indeed, product 3 has a
constant forecasted demand, whichever the scenario). We assume that,
once a quantity is chosen for each product, the scenario becomes known
and there might be surplus or shortages. The a priori optimization
problem can be implemented as in the following model:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">stoc-prodmix.mod</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kd">set</span><span class="w"> </span><span class="nv">RESOURCES</span><span class="p">;</span>
<span class="kd">set</span><span class="w"> </span><span class="nv">PRODUCTS</span><span class="p">;</span>
<span class="kd">set</span><span class="w"> </span><span class="nv">SCENARIOS</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">Gain</span><span class="w"> </span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">Avail</span><span class="p">{</span>RESOURCES<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">PenIns</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">PenEcc</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">Demand</span><span class="p">{</span>PRODUCTS<span class="p">,</span>SCENARIOS<span class="p">};</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">Prob</span><span class="p">{</span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">1</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">MinQty</span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="kr">default</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">MaxQty</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>MinQty<span class="p">[</span>p<span class="p">],</span><span class="w"> </span><span class="kr">default</span><span class="w"> </span><span class="mi">Infinity</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">Consumption</span><span class="w"> </span><span class="p">{</span>RESOURCES<span class="p">,</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="c1">#     resource consumption per product unit</span>

<span class="kd">var</span><span class="w"> </span><span class="nv">Qty</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>MinQty<span class="p">[</span>p<span class="p">],</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>MaxQty<span class="p">[</span>p<span class="p">];</span><span class="w"> </span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Surplus</span><span class="p">{</span>PRODUCTS<span class="p">,</span><span class="w"> </span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Slack</span><span class="p">{</span>PRODUCTS<span class="p">,</span><span class="w"> </span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Sold</span><span class="p">{</span>PRODUCTS<span class="p">,</span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span>

<span class="kd">maximize</span><span class="w"> </span><span class="nv">expected_gain</span><span class="p">:</span><span class="w">  </span>
<span class="w">    </span><span class="kr">sum</span><span class="w"> </span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}</span><span class="w"> </span>Gain<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Sold<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Prob<span class="p">[</span>s<span class="p">]</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="kr">sum</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="p">(</span>Prob<span class="p">[</span>s<span class="p">]</span><span class="o">*</span><span class="p">(</span>Surplus<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="o">*</span>PenEcc<span class="w"> </span>
<span class="w">        </span><span class="o">+</span><span class="w"> </span>Slack<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="o">*</span>PenIns<span class="p">));</span>

<span class="kd">subject to</span><span class="w"> </span><span class="nv">max_consumption</span><span class="w"> </span><span class="p">{</span>r<span class="w"> </span><span class="kr">in</span><span class="w"> </span>RESOURCES<span class="p">}:</span>
<span class="w">   </span><span class="kr">sum</span><span class="w"> </span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">}</span><span class="w"> </span>Consumption<span class="p">[</span>r<span class="p">,</span>p<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Qty<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>Avail<span class="p">[</span>r<span class="p">];</span>

<span class="kd">subject to</span><span class="w"> </span><span class="nv">def_sold_1</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}:</span>
<span class="w">	</span>Sold<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>Qty<span class="p">[</span>p<span class="p">];</span><span class="w"> </span>

<span class="kd">subject to</span><span class="w"> </span><span class="nv">def_sold_2</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}:</span>
<span class="w">	</span>Sold<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>Demand<span class="p">[</span>p<span class="p">,</span>s<span class="p">];</span><span class="w"> </span>

<span class="kd">subject to</span><span class="w"> </span><span class="nv">def_surplus</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}:</span>
<span class="w">    </span>Surplus<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>Qty<span class="p">[</span>p<span class="p">]</span><span class="o">-</span>Demand<span class="p">[</span>p<span class="p">,</span>s<span class="p">];</span>

<span class="kd">subject to</span><span class="w"> </span><span class="nv">def_slack</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}:</span>
<span class="w">    </span>Slack<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>Demand<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="o">-</span>Qty<span class="p">[</span>p<span class="p">];</span>
</pre></div>
</div>
</div>
<p>and, when run and solved through a linear optimization solver, we
obtain the solution which maximizes the expected gain:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">stoc-prodmix.out</span><a class="headerlink" href="#id4" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span>Qty<span class="w"> </span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="o">=</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w">  </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w">  </span><span class="mi">45</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w">  </span><span class="mi">30</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w">  </span><span class="mi">45</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w">  </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w">  </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w">   </span><span class="mi">5</span>
<span class="p">;</span>

<span class="p">:</span><span class="w">          </span>Sold<span class="w"> </span>Demand<span class="w"> </span>Slack<span class="w"> </span>Surplus<span class="w">    </span><span class="p">:</span><span class="o">=</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">30</span><span class="w">    </span><span class="mi">10</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">20</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">45</span><span class="w">    </span><span class="mi">25</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">     </span><span class="mi">15</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">25</span><span class="w">    </span><span class="mi">25</span><span class="w">     </span><span class="mi">0</span><span class="w">     </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">45</span><span class="w">    </span><span class="mi">60</span><span class="w">    </span><span class="mi">15</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">30</span><span class="w">    </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">45</span><span class="w">    </span><span class="mi">45</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">40</span><span class="w">    </span><span class="mi">40</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">5</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">45</span><span class="w">    </span><span class="mi">60</span><span class="w">    </span><span class="mi">15</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">20</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">10</span><span class="w">    </span><span class="mi">10</span><span class="w">     </span><span class="mi">0</span><span class="w">     </span><span class="mi">10</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">40</span><span class="w">    </span><span class="mi">20</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">20</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span>NEG<span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">     </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">20</span><span class="w">    </span><span class="mi">40</span><span class="w">    </span><span class="mi">20</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span>AVG<span class="w">    </span><span class="mi">5</span><span class="w">     </span><span class="mi">5</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span>NEG<span class="w">    </span><span class="mi">2</span><span class="w">     </span><span class="mi">2</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">3</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span>OPT<span class="w">    </span><span class="mi">5</span><span class="w">    </span><span class="mi">20</span><span class="w">    </span><span class="mi">15</span><span class="w">      </span><span class="mi">0</span>
<span class="p">;</span>

expected_gain<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3436.66</span>
</pre></div>
</div>
</div>
<p>If, as it is quite common a  practice, the demand in the different
scenarios is averaged, we might try to solve a product mix problem
using the expected demand in place of the real one. However, differently
from the generic product mix problem introduced earlier in this
volume, we should take into account the fact that some demand might be
unsatisfied, as the limited availability of resources does not allow
to produce all what is (expected) to be required. In this case we can
modify the basic model and introduce a penalty for unsatisfied demand;
on the other hand, in a deterministic product mix model there will be
no surplus, as there would be no reason to produce in excess of the
(expected) demand. Running this model we apparently obtain a gain
which is superior to the expected one in the model seen before. But if
we fix the order quantities and compute the expected gain under the
three scenarios, we obtain the following:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">det-prodmix.out</span><a class="headerlink" href="#id5" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span>Qty<span class="w"> </span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="o">=</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w">   </span><span class="mf">9.07143</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w">  </span><span class="mf">37.5</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w">  </span><span class="mi">30</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w">  </span><span class="mi">48</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w">  </span><span class="mi">23</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w">  </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w">   </span><span class="mf">8.6</span>
<span class="p">;</span>

<span class="p">:</span><span class="w">              </span>Sold<span class="w">   </span>Demand<span class="w">    </span>Slack<span class="w">  </span>Surplus<span class="w">    </span><span class="p">:</span><span class="o">=</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>AVG<span class="w">    </span><span class="mf">9.07143</span><span class="w">    </span><span class="mi">30</span><span class="w">    </span><span class="mf">20.9286</span><span class="w">    </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>NEG<span class="w">    </span><span class="mf">9.07143</span><span class="w">    </span><span class="mi">20</span><span class="w">    </span><span class="mf">10.9286</span><span class="w">    </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>OPT<span class="w">    </span><span class="mf">9.07143</span><span class="w">    </span><span class="mi">45</span><span class="w">    </span><span class="mf">35.9286</span><span class="w">    </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">30</span><span class="w">          </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mf">7.5</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">25</span><span class="w">          </span><span class="mi">25</span><span class="w">     </span><span class="mi">0</span><span class="w">        </span><span class="mf">12.5</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">2</span><span class="w"> </span>OPT<span class="w">   </span><span class="mf">37.5</span><span class="w">        </span><span class="mi">60</span><span class="w">    </span><span class="mf">22.5</span><span class="w">       </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">30</span><span class="w">          </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">30</span><span class="w">          </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">30</span><span class="w">          </span><span class="mi">30</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">45</span><span class="w">          </span><span class="mi">45</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">3</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">40</span><span class="w">          </span><span class="mi">40</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">8</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">4</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">48</span><span class="w">          </span><span class="mi">60</span><span class="w">    </span><span class="mi">12</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">20</span><span class="w">          </span><span class="mi">20</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">3</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span>NEG<span class="w">   </span><span class="mi">10</span><span class="w">          </span><span class="mi">10</span><span class="w">     </span><span class="mi">0</span><span class="w">        </span><span class="mi">13</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">5</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">23</span><span class="w">          </span><span class="mi">40</span><span class="w">    </span><span class="mi">17</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span>AVG<span class="w">   </span><span class="mi">20</span><span class="w">          </span><span class="mi">20</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span>NEG<span class="w">    </span><span class="mi">0</span><span class="w">           </span><span class="mi">0</span><span class="w">     </span><span class="mi">0</span><span class="w">        </span><span class="mi">20</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">6</span><span class="w"> </span>OPT<span class="w">   </span><span class="mi">20</span><span class="w">          </span><span class="mi">40</span><span class="w">    </span><span class="mi">20</span><span class="w">         </span><span class="mi">0</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span>AVG<span class="w">    </span><span class="mi">5</span><span class="w">           </span><span class="mi">5</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mf">3.6</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span>NEG<span class="w">    </span><span class="mi">2</span><span class="w">           </span><span class="mi">2</span><span class="w">     </span><span class="mi">0</span><span class="w">         </span><span class="mf">6.6</span>
<span class="kr">prod</span><span class="o">-</span><span class="mi">7</span><span class="w"> </span>OPT<span class="w">    </span><span class="mf">8.6</span><span class="w">        </span><span class="mi">20</span><span class="w">    </span><span class="mf">11.4</span><span class="w">       </span><span class="mi">0</span>
<span class="p">;</span>

expected_gain<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3361.03</span>
</pre></div>
</div>
</div>
<p>and we can see that indeed this produces a smaller expected gain: in
general it is not wise to substitute the expected demand with the
stochastic one. Among many other motivations, substituting the
stochastic nature of a random variable with its expectation completely
neglects the variability, which is one of the most relevant
characteristics of stochastic variables. In general, taking into
proper account probability distributions when dealing with stochastic
phenomena generates much more reliable and efficient decisions.
Of course, this improved quality comes at the price of an increased
complexity, both in data collection (as we need to retrieve
information on all possible scenarios) and in model development and solution.</p>
<p>The example just presented is very simple and concerns a deterministic
decision which must be taken now, given possible future scenarios; in
the example, no other decision is taken after the scenario
reveals itself. There are indeed variables which depend on the scenario, but
these are just direct consequences of the original choices and of the
characteristics of the scenario.</p>
<p>In many practical applications decisions are taken
sequentially: a first decision is taken, as we did above, then a
scenario occurs and a second-stage decision, possibly containing a
correction to the previous one, is taken; after that another scenario
will occur, and so on. This situation frequently occurs, e.g., in
prime material procurement: in textile production, as an example, we
might need to decide how much of some special tissue to buy right
now, taking into account long lead and transportation  times. Then,
after the buying agreement has been signed and possibly paid, some
events, like fairs or exhibitions, take place and the situation of the
future market might become less uncertain. At this point if, as an
example, it is likely that the market is ready to buy more finished
product than originally planned, new and usually more expensive prime
material can be bought from nearby producers. This second stage
decision depends on the original one and on the scenario which has
been revealed. Eventually, the real demand is observed.</p>
<p>Quite a similar situation happens in agriculture. Consider the
following artificial example:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">application<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-3"></span>Stochastic farm planning</p>
</dd>
</dl>
<p>This application is taken from the introductory chapters of
<span id="id1">[<a class="reference internal" href="Bibliography.html#id27" title="John R. Birge and François Louveaux. Introduction to Stochastic Programming. Springer Series in Operations Research and Financial Engineering. Springer New York, New York, NY, 2011.">Birge and Louveaux, 2011</a>]</span> to which we address the reader interested in a very
good
introduction to the theory and methods of stochastic optimization.
Assume a farmer has a quantity of acres of land available and that a decision
has to be taken about how much of the available land to devote to Wheat, Corn, Beans.
This decision has to be taken now.
In order to run the farm and feed the cattle it would be necessary to harvest a
minimum quantity of wheat and corn (200t and 240t,
respectively). One of the difficulties is that the exact yield
is uncertain, due to possibly different future weather conditions;
however, in any case, the exact future yield
is related to the quantity of land devoted to that
cultivation. If needed, it is always possible to buy additional wheat
and corn, or it is possible  to sell it, if it is in excess. For what concerns
beans, these are possibly grown only for sale (they are not needed
for the cattle), so there is no
minimum requirement.</p>
<p>We assume that future scenarios will be bad, average, good, and
that the scenario will directly influence the yield of each
product. In this simplified example, we assume prices are not
sensible to the scenarios, although it might be interesting to add
this possibility. The three scenarios are assumed to occur with
equal probability. The relevant data is contained in the following
data file:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">stoc-farm.dat</span><a class="headerlink" href="#id6" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kd">set</span><span class="w"> </span><span class="nv">PRODUCTS</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span>Wheat<span class="w"> </span>Corn<span class="w"> </span>Beans<span class="p">;</span>
<span class="kd">set</span><span class="w"> </span><span class="nv">SCENARIOS</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span>Bad<span class="w"> </span>Avg<span class="w"> </span>Good<span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">TotalLand</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">;</span>

param<span class="p">:</span><span class="w"> </span>MinReq<span class="w">  </span>SellPrice<span class="w"> </span>BuyingCost<span class="w">  </span>PlantingCost<span class="w"> </span><span class="p">:</span><span class="o">=</span>
Wheat<span class="w">    </span><span class="mi">200</span><span class="w">     </span><span class="mi">170</span><span class="w">       </span><span class="mi">238</span><span class="w">           </span><span class="mi">150</span>
Corn<span class="w">     </span><span class="mi">240</span><span class="w">     </span><span class="mi">150</span><span class="w">       </span><span class="mi">210</span><span class="w">           </span><span class="mi">230</span>
Beans<span class="w">      </span><span class="mi">0</span><span class="w">      </span><span class="mi">36</span><span class="w">         </span>.<span class="w">           </span><span class="mi">260</span>
<span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">MaxBuy</span><span class="p">:</span><span class="o">=</span>
<span class="w">    </span>Beans<span class="w"> </span><span class="mi">0</span>
<span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">MaxSell</span><span class="p">:</span><span class="o">=</span>
<span class="w">    </span>Beans<span class="w"> </span><span class="mi">6000</span>
<span class="p">;</span>


<span class="kd">param</span><span class="w"> </span><span class="nv">Yield</span><span class="p">:</span>
<span class="w">    </span>Bad<span class="w">   </span>Avg<span class="w">   </span>Good<span class="w"> </span><span class="p">:</span><span class="o">=</span>
Wheat<span class="w">    </span><span class="mi">2</span><span class="w">     </span><span class="mf">2.5</span><span class="w">   </span><span class="mi">3</span>
Corn<span class="w">     </span><span class="mf">2.4</span><span class="w">   </span><span class="mi">3</span><span class="w">     </span><span class="mf">3.6</span>
Beans<span class="w">   </span><span class="mi">16</span><span class="w">    </span><span class="mi">20</span><span class="w">    </span><span class="mi">24</span>
<span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">Prob</span><span class="p">:</span><span class="o">=</span>
Bad<span class="w">  </span><span class="mf">0.333333</span>
Avg<span class="w">  </span><span class="mf">0.333334</span>
Good<span class="w"> </span><span class="mf">0.333333</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<p>The model is again quite similar to a product mix. We choose to add
an extra variable to the model whose value is the
effective product quantity, as a function of the yield. This is not
necessary, indeed, but just increases the readability of the
model.
Moreover we introduce another
variable, <span class="math notranslate nohighlight">\(\var{ExtraSell}\)</span>, in the balance equation  to model possible extra
production which cannot be sold, as the market is not capable of
absorbing it. In the example, this happens for Beans, for which a
maximum demand is imposed equal to 6000; if, based on the acres
devoted to Beans, in a scenario the yield turns out to be more than
this quantity, the excess production will not contribute to any
profit in the objective function: it will thus be a waste, a pure
cost.</p>
<p>As it can be seen in the implementation, the main variable
is not  indexed by the  scenario, as the decision about land
subdivision is a <em>first stage</em> decision, to be taken now:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">stoc-farm.mod</span><a class="headerlink" href="#id7" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kd">set</span><span class="w"> </span><span class="nv">PRODUCTS</span><span class="p">;</span>
<span class="kd">set</span><span class="w"> </span><span class="nv">SCENARIOS</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">Prob</span><span class="p">{</span>SCENARIOS<span class="p">};</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">TotalLand</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">MinReq</span><span class="p">{</span>PRODUCTS<span class="p">};</span><span class="w">  </span><span class="c1"># tons</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">MaxBuy</span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="kr">default</span><span class="w"> </span><span class="mi">Infinity</span><span class="p">;</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">MaxSell</span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="kr">default</span><span class="w"> </span><span class="mi">Infinity</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">SellPrice</span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="kr">default</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1"># euro pr ton</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">BuyingCost</span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="kr">default</span><span class="w"> </span><span class="mi">Infinity</span><span class="p">;</span><span class="w"> </span><span class="c1"># euro per ton</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">Yield</span><span class="p">{</span>PRODUCTS<span class="p">,</span>SCENARIOS<span class="p">};</span><span class="w"> </span><span class="c1">#tone per acre</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">PlantingCost</span><span class="p">{</span>PRODUCTS<span class="p">};</span><span class="w"> </span><span class="c1"># euro per acre</span>

<span class="kd">var</span><span class="w"> </span><span class="nv">x</span><span class="p">{</span>PRODUCTS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>TotalLand<span class="p">;</span><span class="w">  </span><span class="c1"># acres per product</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Sell</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>MaxSell<span class="p">[</span>p<span class="p">];</span>
<span class="c1"># excess tons of products to be sold</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Buy</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>MaxBuy<span class="p">[</span>p<span class="p">];</span>
<span class="c1"># excess tons of products to be bought</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Production</span><span class="p">{</span>PRODUCTS<span class="p">,</span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span><span class="w"> </span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">ExtraSell</span><span class="p">{</span>PRODUCTS<span class="p">,</span>SCENARIOS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="kd">maximize</span><span class="w"> </span><span class="nv">TotalGain</span><span class="p">:</span><span class="w"> </span><span class="kr">sum</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}</span>
<span class="w">    </span>Prob<span class="p">[</span>s<span class="p">]</span><span class="o">*</span><span class="p">(</span>SellPrice<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Sell<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span>x<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>PlantingCost<span class="p">[</span>p<span class="p">])</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="kr">sum</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">:</span><span class="w"> </span>BuyingCost<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">Infinity</span><span class="p">}</span>
<span class="w">    </span>Prob<span class="p">[</span>s<span class="p">]</span><span class="o">*</span><span class="w"> </span>BuyingCost<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Buy<span class="p">[</span>p<span class="p">,</span>s<span class="p">];</span><span class="w"> </span>

<span class="kd">s.t.</span><span class="w"> </span><span class="nv">TotalAcres</span><span class="p">:</span>
<span class="w">	</span><span class="kr">sum</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">}</span><span class="w"> </span>x<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>TotalLand<span class="p">;</span>

<span class="kd">s.t.</span><span class="w"> </span><span class="nv">Balance</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}:</span>
<span class="w">        </span>Production<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span>Sell<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">-</span>ExtraSell<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>Buy<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span>
<span class="w">        </span><span class="o">=</span><span class="w"> </span>MinReq<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="p">;</span>

<span class="kd">s.t.</span><span class="w"> </span><span class="nv">defProd</span><span class="p">{</span>p<span class="w"> </span><span class="kr">in</span><span class="w"> </span>PRODUCTS<span class="p">,</span><span class="w"> </span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>SCENARIOS<span class="p">}:</span>
<span class="w">	</span>Production<span class="p">[</span>p<span class="p">,</span>s<span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>x<span class="p">[</span>p<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Yield<span class="p">[</span>p<span class="p">,</span>s<span class="p">];</span>
</pre></div>
</div>
</div>
<p>After the main decision is taken and the scenario becomes known,
<em>second stage</em> or <span class="target" id="index-4"></span>recourse actions need to be taken:
depending on the actual yield, some product quantity will be
purchased or sold.  The constraints of the model are simply the
request not to exceed the total available land and a set of balance
equations for the definition of possibly excess or defect
production, with respect to the demand. The objective function is
the weighted average of the total gain (revenues minus costs) in
the scenarios, weighted with the probability of each scenario.</p>
<p>With these data, the optimal solution, taking into account the
randomness of scenarios, is the following:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">stoc-farm.out</span><a class="headerlink" href="#id8" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span>CBC<span class="w"> </span><span class="mf">2.10</span>.<span class="mi">3</span><span class="p">:</span><span class="w"> </span>CBC<span class="w"> </span><span class="mf">2.10</span>.<span class="mi">3</span><span class="w"> </span>optimal<span class="p">,</span><span class="w"> </span><span class="kr">objective</span><span class="w"> </span><span class="mf">108390.001</span>
<span class="mi">9</span><span class="w"> </span>iterations


Scenario<span class="p">:</span><span class="w"> </span>Bad

<span class="w">        </span>Prod<span class="w">    </span>Sell<span class="w">    </span>Buy<span class="w">     </span>Demand<span class="w">  </span>Acres<span class="w">   </span>Yield<span class="w">   </span>
Wheat<span class="p">:</span><span class="w">   </span><span class="mi">340</span><span class="w">     </span><span class="mi">140</span><span class="w">     </span><span class="mi">0</span><span class="w">       </span><span class="mi">200</span><span class="w">     </span><span class="mi">170</span><span class="w">     </span><span class="mi">2</span><span class="w">      </span>
Corn<span class="p">:</span><span class="w">    </span><span class="mi">192</span><span class="w">     </span><span class="mi">0</span><span class="w">       </span><span class="mi">48</span><span class="w">      </span><span class="mi">240</span><span class="w">     </span><span class="mi">80</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span>
Beans<span class="p">:</span><span class="w">   </span><span class="mi">4000</span><span class="w">    </span><span class="mi">4000</span><span class="w">    </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">       </span><span class="mi">250</span><span class="w">     </span><span class="mi">16</span><span class="w">     </span>


Scenario<span class="p">:</span><span class="w"> </span>Avg

<span class="w">        </span>Prod<span class="w">    </span>Sell<span class="w">    </span>Buy<span class="w">     </span>Demand<span class="w">  </span>Acres<span class="w">   </span>Yield<span class="w">   </span>
Wheat<span class="p">:</span><span class="w">   </span><span class="mi">425</span><span class="w">     </span><span class="mi">225</span><span class="w">     </span><span class="mi">0</span><span class="w">       </span><span class="mi">200</span><span class="w">     </span><span class="mi">170</span><span class="w">     </span><span class="mi">2</span><span class="w">      </span>
Corn<span class="p">:</span><span class="w">    </span><span class="mi">240</span><span class="w">     </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">       </span><span class="mi">240</span><span class="w">     </span><span class="mi">80</span><span class="w">      </span><span class="mi">3</span><span class="w">      </span>
Beans<span class="p">:</span><span class="w">   </span><span class="mi">5000</span><span class="w">    </span><span class="mi">5000</span><span class="w">    </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">       </span><span class="mi">250</span><span class="w">     </span><span class="mi">20</span><span class="w">     </span>


Scenario<span class="p">:</span><span class="w"> </span>Good

<span class="w">        </span>Prod<span class="w">    </span>Sell<span class="w">    </span>Buy<span class="w">     </span>Demand<span class="w">  </span>Acres<span class="w">   </span>Yield<span class="w">   </span>
Wheat<span class="p">:</span><span class="w">   </span><span class="mi">510</span><span class="w">     </span><span class="mi">310</span><span class="w">     </span><span class="mi">0</span><span class="w">       </span><span class="mi">200</span><span class="w">     </span><span class="mi">170</span><span class="w">     </span><span class="mi">3</span><span class="w">      </span>
Corn<span class="p">:</span><span class="w">    </span><span class="mi">288</span><span class="w">     </span><span class="mi">48</span><span class="w">      </span><span class="mi">0</span><span class="w">       </span><span class="mi">240</span><span class="w">     </span><span class="mi">80</span><span class="w">      </span><span class="mi">4</span><span class="w">      </span>
Beans<span class="p">:</span><span class="w">   </span><span class="mi">6000</span><span class="w">    </span><span class="mi">6000</span><span class="w">    </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">       </span><span class="mi">250</span><span class="w">     </span><span class="mi">24</span><span class="w">     </span>
</pre></div>
</div>
</div>
<p>It is possible to see that the second stage decision on how much to
buy or sell is quite easily understandable: we sell excess
production, and buy any product which is needed. So there is no
real difficulty, in this case, in planning the second stage
decision. What is really strategic is to be able to take these
recourse actions into due considerations so that the initial choice
is made in a profitable way. If we changed the conditions, e.g., to
that of an average scenario (this is simple to obtain by letting
the probability of this scenario to be 1), we obtain a land
destination of 120 acres to Wheat, 80 to Corn, the remaining 300 to
Beans, with an overproduction of 100t of Wheat to be sold. The
profit obtainable in this case is <span class="math notranslate nohighlight">\(118\,600\)</span>, which apparently is
more convenient that the optimal one, obtained in the stochastic
case, <span class="math notranslate nohighlight">\(108\,390\)</span>. However this is not true. If, in fact, the
unpredictable nature of scenarios is taken into correct account,
there is no more an advantage in using the average scenario. In
fact, fixing the quantity of land as in the average scenario, taking
into account the three different possibilities,   it turns out that
the expected return will be only
<span class="math notranslate nohighlight">\(103\,240.0154\)</span> with an expected loss of roughly 5% with respect to
the stochastic decision.</p>
</div></blockquote>
<p><a class="reference external" href="https://creativecommons.org/licenses/by-nc-nd/3.0/"><img alt="CreativeCommonsLicence" src="_images/Cc-by-nc-nd_icon.svg.png" /></a></p>
<p>© Fabio Schoen 2024</p>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Constraints.html" title="Previous document"><span class="section-number">14. </span>Constraints in linear optimization models</a>
        </li>
        <li>
          <a href="MIPModels.html" title="Next document"><span class="section-number">16. </span>Mixed Integer Linear Models</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/OM.jpg" alt="Logo of OptimizationModels"/>
            </a></p>
  <div>
    <h3><a href="contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">15. Uncertainty modeling: Stochastic optimization models</a><ul>
<li><a class="reference internal" href="#probabilistic-constraints">15.1. Probabilistic constraints</a></li>
<li><a class="reference internal" href="#stochastic-linear-optimization-models">15.2. Stochastic linear optimization models</a></li>
</ul>
</li>
</ul>

  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Document start page</a><ul>
      <li>Previous: <a href="Constraints.html" title="previous chapter"><span class="section-number">14. </span>Constraints in linear optimization models</a></li>
      <li>Next: <a href="MIPModels.html" title="next chapter"><span class="section-number">16. </span>Mixed Integer Linear Models</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;Fabio Schoen,  v 1.02 / April 4th, 2024, Creative Commons Cc-by-nc-nd.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.0.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/StochasticOptimization.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>