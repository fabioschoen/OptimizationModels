<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Structured linear optimization models &#8212; OptimizationModels 1.02 April 4, 2024 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=712fa57f" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=edc3226b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=8bd57eb4" />
    <script src="_static/documentation_options.js?v=d77a62b4"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script>window.MathJax = "{'tex': { 'macros': {RR: '{\\bf R}', R: '{\\mathbb{R}}', bold: ['{\\bf #1}', 1] }, 'environments': {braced: ['\\left\\{', '\\right\\}'] }, 'inlineMath': [['$', '$'], ['\\(', '\\)']] } }"</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<link rel="stylesheet" type="text/css" 
     href="_static/custom.css" /> 


  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <p class="hidden"><span class="math notranslate nohighlight">\(\newcommand{\R}{{\mathbb{R}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\Z}{{\mathbb{Z}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\N}{{\mathbb{N}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\var}[1]{{\color{red}{\mathbf{#1}}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\param}[1]{{\color{blue}{#1}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\mathsc}[1]{{\normalfont\textsc{#1}}}\)</span>
<span class="math notranslate nohighlight">\(\def\sc#1{\dosc#1\csod}\)</span>
<span class="math notranslate nohighlight">\(\def\dosc#1#2\csod{{\rm{#1{\rm\small #2}}}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\set}[1]{{\sc#1}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\mathvar}[1]{\var{#1}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\mathpar}[1]{\param{#1}}\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\half}{{\small{\frac{1}{2}}}}\)</span></p>
<section id="structured-linear-optimization-models">
<h1>Structured linear optimization models<a class="headerlink" href="#structured-linear-optimization-models" title="Link to this heading">¶</a></h1>
<p>This chapter is devoted to the introduction of some classes of linear
optimization problems with a special “structure”.
Before starting with quite a large number of special models, let us
introduce the basic terminology first. All of the optimization models
we will be presenting can be represented as constrained optimization
models in <span class="math notranslate nohighlight">\(\R^n\)</span>:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\min_{\var{x} \in S \subseteq \R^n}  f(\var{x})
\end{align*}</div><p>Here <span class="math notranslate nohighlight">\(\var{x}\)</span> is the vector of <span class="target" id="index-0"></span>decision variables;
the set <span class="math notranslate nohighlight">\(S\)</span> is the <span class="target" id="index-1"></span>feasible set, while
<span class="math notranslate nohighlight">\(f: \R^n\rightarrow \R\)</span> is called <span class="target" id="index-2"></span>objective
function. In a <span class="target" id="index-3"></span>linear model, the objective function and the constraints
are linear, which, in finite Euclidean spaces, is equivalent to say that</p>
<ol class="arabic">
<li><p>There exist real coefficients <span class="math notranslate nohighlight">\(c \in \R^n\)</span> such that</p>
<div class="math notranslate nohighlight">
\begin{align*}
f(\var{x}) &amp; = \sum_{j=1}^n \param{c}_j \var{x}_j
\end{align*}</div></li>
<li><p>The feasible set is a <span class="target" id="index-4"></span>polyhedron, or, equivalently,
there exist matrices <span class="math notranslate nohighlight">\(A, B\)</span> and vectors <span class="math notranslate nohighlight">\(\alpha, \beta\)</span>
such that the set <span class="math notranslate nohighlight">\(S\)</span> is composed by the solutions of the
system of liner equations and inequalities</p>
<div class="math notranslate nohighlight">
\begin{align*}
A \var{x} &amp; = \alpha \\
B \var{x} &amp; \leq \beta
\end{align*}</div></li>
</ol>
<p>Thus, in a <em>linear model</em> both the objective function and the left
hand sides of all equalities and inequalities are linear expressions.</p>
<p>By the therm <em>structured models</em>  we mean that
these models can be seen as special cases of generic linear optimization ones,
whose structure from one side identifies a class of potentially useful
applications and, on another side, lends itself to further theoretical
analysis; this, in some cases, might lead to improved numerical
performance. By a “structure” we usually mean a set of constraints
with a special form (like, as we will see later, <em>balance equations</em>) or
families of constraints with a special meaning in the applied context,
like blending or resource consumption.</p>
<p>An important class of such structured problems is that of <a class="reference internal" href="NetworkFlow.html#network-flow-models"><span class="std std-ref">Network flow models</span></a>, which will be the subject of a detailed analysis later on; being
able to identify and exploit the fact that a model is indeed a network
flow one allows to get significantly greater insight as well as opens
the way towards very efficient optimization algorithms.</p>
<p>Before starting a review of some of the main mathematical optimization
models and their applications, we introduce here a fairly simple model
connected to the production of aluminum from scrap. This is
indeed an instance  of a class of models, called
<a class="reference internal" href="BlendingModels.html#blending-models"><span class="std std-ref">Blending Models</span></a> which  will be described in more
detail later. It seems useful to start the presentation with this simple case,
the description of which is sufficiently elementary to be understood
even without deeper knowledge; its formulation contains the main
elements of more complex models. Moreover, although elementary, this
model is currently in use at several companies.</p>
<blockquote>
<div><dl class="field-list simple" id="blending-al-scrap">
<dt class="field-odd">application<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-5"></span>Blending aluminum scrap</p>
</dd>
</dl>
<p>One of the industrial sectors in which optimization models are widely used
is that of mixing different scrap to produce aluminum alloys of a
prescribed quality. Consider the situation in which we may buy, in
limited amounts, some scrap mostly composed of aluminum, but containing
also other chemical elements; we would like to mix some of these scraps
in order to obtain, through casting, an alloy with a prescribed
percentage of various chemical elements. We can also consider the case
in which, in order to improve the quality of the available scrap, it is
possible to purchase pure metals, without any limit, although at a
significantly higher price. The problem thus becomes that of
establishing the quantities to buy for each scrap and pure metal to be
used in a blend of minimum total cost which satisfies quality
constraints.</p>
<p>The following table shows a data file prepared according to the syntax of
AMPL
for a hypothetical problem of aluminum blending from scrap. The
objective is to obtain a blend which satisfies a set of quality
specifications, does not use more scrap than available, and produces the
required quantity of finished product at minimum total cost.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Al6061.dat</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="c1"># optimal blending of Al scrap</span>

<span class="kd">set</span><span class="w"> </span><span class="nv">MATERIALS</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span>UBC<span class="w"> </span>Auto<span class="w"> </span>Radiator<span class="w"> </span>WireScraps<span class="w"> </span>Turnings
LithoSheets<span class="w"> </span>Si<span class="w"> </span>Mg<span class="p">;</span><span class="w"> </span>

<span class="kd">set</span><span class="w"> </span><span class="nv">ELEMENTS</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span>Si<span class="w"> </span>Mg<span class="w"> </span>Fe<span class="w"> </span>Cu<span class="w"> </span>Mn<span class="w"> </span>Zn<span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">required</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">1500</span><span class="p">;</span><span class="w">  </span><span class="c1"># kg</span>

param<span class="p">:</span><span class="w"> </span>minReq<span class="w">  </span>maxReq<span class="w"> </span><span class="p">:</span><span class="o">=</span>
Si<span class="w">        </span><span class="mf">0.4</span><span class="w">       </span><span class="mf">0.8</span>
Mg<span class="w">        </span><span class="mf">0.8</span><span class="w">       </span><span class="mf">1.2</span>
Fe<span class="w">        </span><span class="mf">0.</span><span class="w">        </span><span class="mf">0.7</span>
Cu<span class="w">        </span><span class="mf">0.15</span><span class="w">      </span><span class="mf">0.4</span>
Mn<span class="w">        </span><span class="mf">0.0</span><span class="w">       </span><span class="mf">0.15</span>
Zn<span class="w">        </span><span class="mf">0.0</span><span class="w">       </span><span class="mf">0.25</span>
<span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">compos</span><span class="p">:</span>
<span class="w">  </span>UBC<span class="w">    </span>Auto<span class="w"> </span>Radiator<span class="w">   </span>WireScraps<span class="w">   </span>Turnings<span class="w"> </span>LithoSheets<span class="w"> </span>Si<span class="w"> </span>Mg<span class="p">:</span><span class="o">=</span>
Si<span class="w"> </span><span class="mf">0.225</span><span class="w">  </span><span class="mf">10.125</span><span class="w">     </span><span class="mf">0.</span><span class="w">       </span><span class="mf">0.1875</span><span class="w">    </span><span class="mf">6.75</span><span class="w">        </span><span class="mf">0.6</span><span class="w">   </span><span class="mf">100.</span><span class="w"> </span><span class="mf">0.</span>
Mg<span class="w"> </span><span class="mf">0.975</span><span class="w">  </span><span class="mf">0.225</span><span class="w">      </span><span class="mf">0.</span><span class="w">       </span><span class="mf">0.45</span><span class="w">      </span><span class="mf">0.225</span><span class="w">       </span><span class="mf">0.</span><span class="w">      </span><span class="mf">0.</span><span class="w"> </span><span class="mf">100.</span>
Fe<span class="w"> </span><span class="mf">0.375</span><span class="w">  </span><span class="mf">0.825</span><span class="w">      </span><span class="mf">0.525</span><span class="w">    </span><span class="mf">0.3</span><span class="w">       </span><span class="mf">0.75</span><span class="w">        </span><span class="mf">0.6375</span><span class="w">  </span><span class="mf">0.</span><span class="w"> </span><span class="mf">0.</span>
Cu<span class="w"> </span><span class="mf">0.15</span><span class="w">   </span><span class="mf">2.625</span><span class="w">     </span><span class="mf">30.0</span><span class="w">      </span><span class="mf">0.0375</span><span class="w">    </span><span class="mf">2.625</span><span class="w">       </span><span class="mf">0.125</span><span class="w">   </span><span class="mf">0.</span><span class="w"> </span><span class="mf">0.</span>
Mn<span class="w"> </span><span class="mf">0.825</span><span class="w">  </span><span class="mf">0.375</span><span class="w">      </span><span class="mf">0.</span><span class="w">       </span><span class="mf">0.0375</span><span class="w">    </span><span class="mf">0.375</span><span class="w">       </span><span class="mf">0.6375</span><span class="w">  </span><span class="mf">0.</span><span class="w"> </span><span class="mf">0.</span>
Zn<span class="w"> </span><span class="mf">0.0375</span><span class="w"> </span><span class="mf">0.9</span><span class="w">        </span><span class="mf">0.</span><span class="w">       </span><span class="mf">0.0525</span><span class="w">    </span><span class="mf">1.125</span><span class="w">       </span><span class="mf">0.075</span><span class="w">   </span><span class="mf">0.</span><span class="w"> </span><span class="mf">0.</span>
<span class="p">;</span>

<span class="c1"># cost in Euro per kg</span>
param<span class="p">:</span>
<span class="w">          </span>cost<span class="w">   </span>avail<span class="w"> </span><span class="p">:</span><span class="o">=</span>
UBC<span class="w">           </span><span class="mf">1.25</span><span class="w">   </span><span class="mi">1000</span>
Auto<span class="w">          </span><span class="mf">1.4</span><span class="w">    </span><span class="mi">1000</span>
Radiator<span class="w">      </span><span class="mf">1.35</span><span class="w">   </span><span class="mi">1500</span>
WireScraps<span class="w">    </span><span class="mf">0.8</span><span class="w">    </span><span class="mi">1200</span>
Turnings<span class="w">      </span><span class="mf">0.6</span><span class="w">    </span><span class="mi">1000</span>
LithoSheets<span class="w">   </span><span class="mf">1.2</span><span class="w">    </span><span class="mi">1600</span>
Si<span class="w">           </span><span class="mf">10.</span><span class="w">     </span><span class="mi">2000</span>
Mg<span class="w">           </span><span class="mf">10.</span><span class="w">     </span><span class="mi">2000</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<p>The first part of the data file contains the definition of the names of
the available materials and the chemical elements of interest. Than we
specify the total required quantity to be produced (in kg) and, for each
chemical element, the value of the minimum and maximum percentage
required, based on the definition of the “6061” blend type
specification. The syntax of this part reflects one of the many ways
data can be defined  – here we are using a multi–dimensional
array whose rows have symbolic names (the names of the chemical
elements) and the columns represent, for each chemical element, the
minimum and maximum allowed contents in the blend. Next, the data file
contains the definition of the chemical composition of each scrap type;
again, we are using the same syntax (although modeling languages allow for different
ways to obtain a similar data specification) and we define a
matrix,   <code class="docutils literal notranslate"><span class="pre">compos</span></code>, whose rows are associated to chemical
elements, whose columns correspond to different scrap materials and
whose elements are the (average) percentage contents of that chemical in
one unit of that material. Finally, for each material, the cost in Euros
per kg and the maximum available quantity are reported. Of course, while these
data is quite realistic, the reported numbers have no relations with real life
situations.</p>
<p>It is worth observing that the main chemical component, aluminum, is not
included in this dataset: this means that we can consider that the
aluminum content in each material is what remains to reach 100%. As an
example, for material <code class="docutils literal notranslate"><span class="pre">UBC</span></code> summing the first column
in the <code class="docutils literal notranslate"><span class="pre">compos</span></code> matrix we obtain 0.025875
and we can assume that the aluminum contents is 97.4125%.</p>
<p>To formalize the problem we need to identify decision variables,
constraints, objective function. It is very natural to associate a
variable <span class="math notranslate nohighlight">\(\var{x}_{j}\)</span> to each material <span class="math notranslate nohighlight">\(j\)</span> (in the model
this variable is called <code class="docutils literal notranslate"><span class="pre">Buy</span></code>); although not
necessary, it seems  useful to introduce another variable,
<span class="math notranslate nohighlight">\(\var{y}_i\)</span>, for the total chemical contents of the resulting
blend (in the model this is called <code class="docutils literal notranslate"><span class="pre">Chem</span></code>). Notice
that while in the text we prefer to use classical mathematical notation
and naming conventions, in the implemented models we preferred to use
more meaningful variable names.</p>
<p>In the declaration of both variables, we include lower and upper bounds.
For the main variable, <span class="math notranslate nohighlight">\(\var{x}\)</span>, these are zero and the
available quantity,
respectively. For what concerns chemical contents, they are the minimum
and maximum allowed contents for each element.</p>
<p>The constraint on the total quantity to be produced is simply</p>
<div class="math notranslate nohighlight">
\begin{align*}
\sum_{j \in \set{Materials}} \var{x}_{j} = \param{required}
\end{align*}</div><p>For what concerns the chemical balance, having introduced a specific
variable, we just need to “define” this variable through a set of
constraints:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\var{y}_i &amp; = \sum_{j \in \set{Materials}} \param{compos}_{ij}
\var{x}_j / \param{required}
\end{align*}</div><p>It is easy to see how we might get rid of the additional variables
<span class="math notranslate nohighlight">\(\var{y}\)</span> by simply redefining the lower and upper bound
constraints on the quality as</p>
<div class="math notranslate nohighlight">
\begin{align*}
\param{minReq}_i \leq  \sum_{j \in \set{Materials}} \param{compos}_{ij}
\var{x}_j / \param{required} \leq \param{maxReq}_i
\end{align*}</div><p>for all <span class="math notranslate nohighlight">\(i \in \set{ELEMENTS}\)</span>.</p>
<p>The objective function, given a unit cost <span class="math notranslate nohighlight">\(\param{cost}_{j}\)</span>
associated with each material, can be expressed as</p>
<div class="math notranslate nohighlight">
\begin{align*}
\min \sum_{j \in \set{Materials}} \param{cost}_{j} \var{x}_{j}
\end{align*}</div><p>In summary, the complete blending model has the following form:</p>
<div class="math notranslate nohighlight">
\begin{align*}
&amp;\min_{\var{x},\var{y}} \sum_{j \in \set{Materials}} \param{cost}_{j}\, \var{x}_{j} \\
\sum_{j \in \set{Materials}} \var{x}_{j} &amp;= \param{required} \\
\var{y}_i &amp; = \sum_{j \in \set{Materials}} \frac{\param{compos}_{ij}
\var{x}_j}{\param{required}} &amp; \forall\, i&amp; \in
\set{ELEMENTS} \\
0 \leq \var{x}_j &amp; \leq \param{avail}_j &amp; \forall\, j &amp;\in
\set{MATERIALS}\\
\param{minReq}_i \leq \var{y}_i &amp; \leq \param{maxReq}_i &amp;\forall\, i&amp; \in
\set{ELEMENTS}
\end{align*}</div><p>The model  can be implemented as
reported in the following, where the strong similarity between the
abstract model above and its implementation can be easily seen.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Al_blend.mod</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="c1">#------------------------------------------------------#</span>
<span class="c1">#     optimal scrap bleding problem                    #</span>
<span class="c1">#------------------------------------------------------#</span>


<span class="kd">set</span><span class="w"> </span><span class="nv">MATERIALS</span><span class="p">;</span>
<span class="kd">set</span><span class="w"> </span><span class="nv">ELEMENTS</span><span class="p">;</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">required</span><span class="p">;</span><span class="w"> </span><span class="c1"># required quantity</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">minReq</span><span class="p">{</span>ELEMENTS<span class="p">};</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">maxReq</span><span class="p">{</span>ELEMENTS<span class="p">};</span>

<span class="kd">param</span><span class="w"> </span><span class="nv">compos</span><span class="p">{</span>ELEMENTS<span class="p">,</span>MATERIALS<span class="p">};</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">cost</span><span class="p">{</span>MATERIALS<span class="p">};</span>
<span class="kd">param</span><span class="w"> </span><span class="nv">avail</span><span class="p">{</span>MATERIALS<span class="p">};</span>

<span class="c1"># -----------------------------------------------------#</span>
<span class="c1"># variable declaration and bounding</span>
<span class="c1"># -----------------------------------------------------#</span>

<span class="kd">var</span><span class="w"> </span><span class="nv">Buy</span><span class="p">{</span>m<span class="w"> </span><span class="kr">in</span><span class="w"> </span>MATERIALS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>avail<span class="p">[</span>m<span class="p">];</span>
<span class="kd">var</span><span class="w"> </span><span class="nv">Chem</span><span class="p">{</span>el<span class="w"> </span><span class="kr">in</span><span class="w"> </span>ELEMENTS<span class="p">}</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>minReq<span class="p">[</span>el<span class="p">],</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>maxReq<span class="p">[</span>el<span class="p">];</span>

<span class="c1"># -----------------------------------------------------#</span>
<span class="c1"># objective function</span>
<span class="c1"># -----------------------------------------------------#</span>

<span class="kd">minimize</span><span class="w"> </span><span class="nv">totalcost</span><span class="p">:</span><span class="w"> </span><span class="kr">sum</span><span class="w"> </span><span class="p">{</span>m<span class="w"> </span><span class="kr">in</span><span class="w"> </span>MATERIALS<span class="p">}</span><span class="w"> </span>cost<span class="p">[</span>m<span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>Buy<span class="p">[</span>m<span class="p">];</span>

<span class="c1"># -----------------------------------------------------#</span>
<span class="c1"># constraints</span>
<span class="c1"># -----------------------------------------------------#</span>

<span class="kd">s.t.</span><span class="w"> </span><span class="nv">chem_def</span><span class="p">{</span>el<span class="w"> </span><span class="kr">in</span><span class="w"> </span>ELEMENTS<span class="p">}:</span>
<span class="w">	</span>Chem<span class="p">[</span>el<span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">sum</span><span class="p">{</span>m<span class="w"> </span><span class="kr">in</span><span class="w"> </span>MATERIALS<span class="p">}</span><span class="w"> </span>compos<span class="p">[</span>el<span class="p">,</span>m<span class="p">]</span><span class="w"> </span><span class="o">*</span>
<span class="w">                   </span>Buy<span class="p">[</span>m<span class="p">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span>required<span class="p">;</span>

<span class="kd">s.t.</span><span class="w"> </span><span class="nv">total</span><span class="p">:</span>
<span class="w">	</span><span class="kr">sum</span><span class="p">{</span>m<span class="w"> </span><span class="kr">in</span><span class="w"> </span>MATERIALS<span class="p">}</span><span class="w"> </span>Buy<span class="p">[</span>m<span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>required<span class="p">;</span>
</pre></div>
</div>
</div>
<p>In order to solve the model, we need to combine the model, a set of
data, and pass through a suitable solver. In this example we choose
the Cbc  <span id="id1">[<a class="reference internal" href="Bibliography.html#id5" title="John Forrest, Ted Ralphs, Haroldo Gambini Santos, Stefan Vigerske, Lou Hafer, Bjarni Kristjansson, jpfasano, EdwinStraver, Miles Lubin, rlougee, jpgoncal1, Jan-Willem, h-i-gassmann, Samuel Brito, Cristina, Matthew Saltzman, tosttost, Fumiaki Matsushima, and to-st. COIN-OR/CBC: release 2.10.7. January 2022. URL: https://doi.org/10.5281/zenodo.5904374.">Forrest <em>et al.</em>, 2022</a>]</span>
open source linear and mixed integer solver. We
obtained an optimal solution through a set of language-specific commands, reported
below.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Al_blend.run</span><a class="headerlink" href="#id4" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kr">model</span><span class="w"> </span>Al_blend.<span class="kr">mod</span><span class="p">;</span>
<span class="kr">data</span><span class="w"> </span>Al6061.dat<span class="p">;</span>

<span class="kr">option</span><span class="w"> </span>solver<span class="w"> </span>cbc<span class="p">;</span>

<span class="kr">solve</span><span class="p">;</span>

<span class="kr">display</span><span class="w"> </span>Buy<span class="p">;</span>
<span class="kr">display</span><span class="w"> </span>minReq<span class="p">,</span><span class="w"> </span>Chem<span class="p">,</span><span class="w"> </span>maxReq<span class="p">;</span>
</pre></div>
</div>
</div>
<p>The solution we obtained by running this solver with the above data
was:</p>
<div class="math notranslate nohighlight">
\begin{align*}
\begin{array}[c]{lr}  \hline
\mathtt{UBC} &amp; 154.87 \\
\mathtt{Radiator} &amp; 1.07 \\
\mathtt{WireScraps} &amp; 1\,200.00 \\
\mathtt{MixedTurnings} &amp; 139.28 \\
\mathtt{Mg} &amp; 4.78 \\
\hline
\end{array}
\end{align*}</div><p>with an overall cost of 1286.37 (an average of 0.857 per unit
produced). The chemical composition of the blend is</p>
<div class="math notranslate nohighlight">
\begin{align*}
\begin{array}[c]{llll}
Element &amp; min &amp; actual &amp; max \\ \hline
\mathtt{Si} &amp; 0.4 &amp; 0.8 &amp; 0.8\\
\mathtt{Mg} &amp; 0.8 &amp; 0.8 &amp; 1.2\\
\mathtt{Fe} &amp; 0.0 &amp; 0.35 &amp; 0.8\\
\mathtt{Cu} &amp; 0.15 &amp; 0.31 &amp; 0.4\\
\mathtt{Mn} &amp; 0.0 &amp; 0.15 &amp; 0.15\\
\mathtt{Zn} &amp; 0.0 &amp; 0.15 &amp; 0.25\\
\hline
\end{array}
\end{align*}</div><p>These data have been obtained by running a solver on the supplied
model and data. An example of the output which can be obtained from
the solver is given below.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Al6061.out</span><a class="headerlink" href="#id5" title="Link to this code">¶</a></div>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span>CBC<span class="w"> </span><span class="mf">2.10</span>.<span class="mi">3</span><span class="w"> </span>optimal<span class="p">,</span><span class="w"> </span><span class="kr">objective</span><span class="w"> </span><span class="mf">1286.369005</span>
<span class="mi">5</span><span class="w"> </span>iterations
Buy<span class="w"> </span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="o">=</span>
<span class="w">  </span>LithoSheets<span class="w">     </span><span class="mi">0</span>
<span class="w">           </span>Mg<span class="w">     </span><span class="mf">4.77662</span>
<span class="w">    </span>MixedAuto<span class="w">     </span><span class="mi">0</span>
MixedTurnings<span class="w">   </span><span class="mf">139.282</span>
<span class="w">     </span>Radiator<span class="w">     </span><span class="mf">1.06954</span>
<span class="w">           </span>Si<span class="w">     </span><span class="mi">0</span>
<span class="w">          </span>UBC<span class="w">   </span><span class="mf">154.872</span>
<span class="w">   </span>WireScraps<span class="w">  </span><span class="mi">1200</span>
<span class="p">;</span>

<span class="p">:</span><span class="w">  </span>minReq<span class="w">     </span>Chem<span class="w">   </span>maxReq<span class="w">    </span><span class="p">:</span><span class="o">=</span>
Cu<span class="w">   </span><span class="mf">0.15</span><span class="w">   </span><span class="mf">0.310622</span><span class="w">   </span><span class="mf">0.4</span>
Fe<span class="w">   </span><span class="mi">0</span><span class="w">      </span><span class="mf">0.348733</span><span class="w">   </span><span class="mf">0.7</span>
Mg<span class="w">   </span><span class="mf">0.8</span><span class="w">    </span><span class="mf">0.8</span><span class="w">        </span><span class="mf">1.2</span>
Mn<span class="w">   </span><span class="mi">0</span><span class="w">      </span><span class="mf">0.15</span><span class="w">       </span><span class="mf">0.15</span>
Si<span class="w">   </span><span class="mf">0.4</span><span class="w">    </span><span class="mf">0.8</span><span class="w">        </span><span class="mf">0.8</span>
Zn<span class="w">   </span><span class="mi">0</span><span class="w">      </span><span class="mf">0.150333</span><span class="w">   </span><span class="mf">0.25</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<p>We can observe, from the above results, that some elements, like <code class="docutils literal notranslate"><span class="pre">Mg</span></code>, are
expensive and, thus kept at their minimum value in the optimal
solution; on the contrary, others, like <code class="docutils literal notranslate"><span class="pre">Mn</span></code>, are cheap. We
also can observe that in the final optimal blend some materials,
<code class="docutils literal notranslate"><span class="pre">Radiator</span></code> in particular, are present in a tiny fraction of the
overall blend. We might easily modify the data to exclude this from
the blend. However, it might be preferable to insert a <code class="docutils literal notranslate"><span class="pre">logical</span></code>
constraint
stating that for every material, either it is not included in the
optimal solution or its level should be greater than a
threshold. As an example we might add a constraint saying that either
<code class="docutils literal notranslate"><span class="pre">Radiator</span></code> is zero or it needs to be more than, say, 50kg. This kind
of constraint will be presented later in this volume
(see section <a class="reference internal" href="MIPModels.html#using-binary-variables-in-logical-constraints"><span class="std std-ref">Using binary variables in logical constraints</span></a>).</p>
</div></blockquote>
<p>In this first introductory model we have  seen the main
components of mathematical optimization models:</p>
<ul class="simple">
<li><p>index sets (the names of the scrap, the names of the chemical
elements);</p></li>
<li><p>numerical parameters (scalars, vectors, matrices) such as the
quantity to be produced, the required quality,
the  unit cost, the chemical composition of each material;</p></li>
<li><p>the variables, in this
case associated with the quantities to be used in the preparation of the blend;</p></li>
<li><p>the constraints,  equations or inequalities (in this case they
are all linear);</p></li>
<li><p>the objective to be optimized, in this case the total cost of the blend, to be minimized.</p></li>
</ul>
<p>Since the variables appear linearly in all the constraints and in the
objective function,
the model just described is called
a <span class="target" id="index-6"></span>linear optimization model .</p>
<p>The above ingredients will appear in most of the models analyzed in
this volume.
From the next paragraph we will begin
to examine some important specific classes of optimization models.</p>
<p><a class="reference external" href="https://creativecommons.org/licenses/by-nc-nd/3.0/"><img alt="CreativeCommonsLicence" src="_images/Cc-by-nc-nd_icon.svg.png" /></a></p>
<p>© Fabio Schoen 2024</p>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/OM.jpg" alt="Logo of OptimizationModels"/>
            </a></p>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Document start page</a><ul>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;Fabio Schoen,  v 1.02 / April 4th, 2024, Creative Commons Cc-by-nc-nd.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.0.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/LinearModelsBook.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>